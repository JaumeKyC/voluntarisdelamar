{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/actividades.service\";\nimport * as i2 from \"@angular/router\";\nexport class DetalleEventoVoluntarioComponent {\n  constructor(service, route) {\n    this.service = service;\n    this.route = route;\n    this.fecha_inicio = \"\";\n    this.hora_inicio = \"\";\n    this.maximo_voluntarios = 0;\n    this.contador_voluntarios = 0;\n    this.lugar_evento = \"\";\n    this.descripcion_evento = \"\";\n    this.titulo_evento = \"\";\n    this.num_embarcaciones = 0;\n    this.num_motos = 0;\n    this.num_tripulantes = 0;\n    this.num_patrones = 0;\n    this.num_socorristas = 0;\n    this.user_joined = false;\n    this.isDisabled = false;\n    this.entidad_organizadora = \"\";\n    this.unido = false;\n    this.idEvento = 0;\n    this.id = sessionStorage.getItem('id');\n    this.resp = [];\n  }\n  ngOnInit() {\n    this.idEvento = this.route.snapshot.paramMap.get('id');\n    this.service.getDetalle(this.idEvento, this.id).subscribe(response => {\n      let hora_inicio = new Date(response.HORA_INICIO);\n      let horas = hora_inicio.getHours();\n      let minutos = hora_inicio.getMinutes();\n      let segundos = hora_inicio.getSeconds();\n      this.hora_inicio = `${horas.toString().padStart(2, '0')}:${minutos.toString().padStart(2, '0')}:${segundos.toString().padStart(2, '0')}`;\n      let fecha_inicio = new Date(response.FECHA_INICIO);\n      let dia = fecha_inicio.getDate();\n      let mes = fecha_inicio.getMonth() + 1;\n      let any = fecha_inicio.getFullYear();\n      this.fecha_inicio = `${dia.toString().padStart(2, '0')}/${mes.toString().padStart(2, '0')}/${any}`;\n      this.titulo_evento = response.NOMBRE;\n      this.lugar_evento = response.UBICACION;\n      this.descripcion_evento = response.OBSERVACIONES;\n      this.contador_voluntarios = response.VOLUNTARIOS;\n      this.maximo_voluntarios = response.MAX_VOLUNTARIOS;\n      this.entidad_organizadora = response.ENTIDAD_ORGANIZADORA;\n      this.lugar_evento = response.UBICACION;\n      /*localStorage.setItem('entidad_organizadora', this.resp[0].ENTIDAD_ORGANIZADORA),\r\n      localStorage.setItem('num_embarcaciones', this.resp[0].NUM_EMBARCACIONES.toString()),\r\n      localStorage.setItem('num_motos', this.resp[0].NUM_MOTOS.toString()),\r\n      localStorage.setItem('num_patrones', this.resp[0].NUM_PATRONES.toString()),\r\n      localStorage.setItem('num_tripulantes', this.resp[0].NUM_TRIPULANTES.toString()),\r\n      localStorage.setItem('num_socorristas', this.resp[0].NUM_SOCORRISTAS.toString()),\r\n      localStorage.setItem('user_joined', this.resp[0].USER_JOINED.toString())*/\n    });\n  }\n  /*public show(){\r\n    this.fecha_inicio = localStorage.getItem('fecha_inicio_evento');\r\n    this.hora_inicio = localStorage.getItem('hora_inicio_evento');\r\n    let maxVoluntarios = localStorage.getItem('max_voluntarios_evento');\r\n    this.maximo_voluntarios = maxVoluntarios !== null ? parseInt(maxVoluntarios) : 0;\r\n    let count = localStorage.getItem('voluntarios_evento');\r\n    this.contador_voluntarios = count !== null ? parseInt(count) : 0;\r\n    this.lugar_evento = localStorage.getItem('lugar_evento');\r\n    this.descripcion_evento = localStorage.getItem('descripcion_evento');\r\n    this.titulo_evento = localStorage.getItem('nombre_evento');\r\n    let embarcaciones = localStorage.getItem('num_embarcaciones');\r\n    this.num_embarcaciones = embarcaciones !== null ? parseInt(embarcaciones) : 0;\r\n    let motos = localStorage.getItem('num_motos');\r\n    this.num_motos = motos !== null ? parseInt(motos) : 0;\r\n    let tripulantes = localStorage.getItem('num_tripulantes');\r\n    this.num_tripulantes = tripulantes !== null ? parseInt(tripulantes) : 0;\r\n    let patrones = localStorage.getItem('num_patrones');\r\n    this.num_patrones = patrones !== null ? parseInt(patrones) : 0;\r\n    let socorristas = localStorage.getItem('num_socorristas');\r\n    this.num_socorristas = socorristas !== null ? parseInt(socorristas) : 0;\r\n    let joined = localStorage.getItem('user_joined');\r\n    (joined === 'true') ? this.user_joined = true : this.user_joined = false;\r\n    if(this.contador_voluntarios >= this.maximo_voluntarios){\r\n      this.isDisabled = true;\r\n    }\r\n  }*/\n  unirse() {\n    this.contador_voluntarios++;\n    this.unido = true;\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\n      this.isDisabled = true;\n    }\n  }\n  desunirse() {\n    this.contador_voluntarios--;\n    this.unido = false;\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\n      this.isDisabled = true;\n    }\n  }\n}\nDetalleEventoVoluntarioComponent.ɵfac = function DetalleEventoVoluntarioComponent_Factory(t) {\n  return new (t || DetalleEventoVoluntarioComponent)(i0.ɵɵdirectiveInject(i1.ActividadesService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nDetalleEventoVoluntarioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DetalleEventoVoluntarioComponent,\n  selectors: [[\"app-detalle-evento-voluntario\"]],\n  decls: 84,\n  vars: 13,\n  consts: [[1, \"bg-image\", 2, \"background-image\", \"url('BACKGROUND.jpg')\", \"background-size\", \"cover\", \"background-repeat\", \"no-repeat\", \"background-attachment\", \"fixed\"], [1, \"container\", \"mb-3\"], [1, \"text-center\", \"pt-4\", \"mb-4\"], [1, \"row\", \"d-flex\"], [1, \"col-2\"], [1, \"col-8\"], [1, \"card\", \"text-center\"], [\"id\", \"cardDetail\", 1, \"card-body\", \"d-flex\"], [1, \"text-center\", \"mt-4\", \"mb-3\"], [2, \"color\", \"#4774b7\"], [\"id\", \"cardDetail\", 1, \"card-body\", \"mb-2\", \"d-flex\"], [1, \"table\", \"table-bordered\"], [1, \"col-4\"], [1, \"mt-2\", 2, \"color\", \"#4774b7\"], [1, \"col-6\"], [1, \"mt-2\"], [\"id\", \"cardDetail\", 1, \"card-body\"], [\"id\", \"cardDetail\", 1, \"card-body\", \"mb-3\"], [\"href\", \"\"], [\"id\", \"buttonListActividadDont\", 1, \"btn\", \"btn-lg\", \"btn-primary\", \"btn-block\"], [\"id\", \"\", \"disabled\", \"\"], [\"id\", \"buttonListActividad\", 1, \"btn\", \"btn-lg\", \"btn-primary\", \"btn-block\"]],\n  template: function DetalleEventoVoluntarioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelement(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"div\", 7)(9, \"h5\", 8);\n      i0.ɵɵtext(10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 7)(12, \"h5\", 9);\n      i0.ɵɵtext(13, \"FECHA:\\u00A0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"h5\");\n      i0.ɵɵtext(15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"h5\", 9);\n      i0.ɵɵtext(17, \"HORA:\\u00A0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"h5\");\n      i0.ɵɵtext(19);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 7)(21, \"h5\", 9);\n      i0.ɵɵtext(22, \"UBICACI\\u00D3N:\\u00A0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"h5\");\n      i0.ɵɵtext(24);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 10)(26, \"h5\", 9);\n      i0.ɵɵtext(27, \"ENTIDAD ORGANIZADORA:\\u00A0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"h5\");\n      i0.ɵɵtext(29);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"table\", 11)(31, \"tbody\")(32, \"tr\")(33, \"td\", 12)(34, \"h5\", 13);\n      i0.ɵɵtext(35, \"N\\u00BA EMBARCACIONES\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(36, \"td\", 14)(37, \"h5\", 15);\n      i0.ɵɵtext(38);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(39, \"tr\")(40, \"td\", 14)(41, \"h5\", 13);\n      i0.ɵɵtext(42, \"N\\u00BA MOTOS\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(43, \"td\", 14)(44, \"h5\", 15);\n      i0.ɵɵtext(45);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(46, \"tr\")(47, \"td\", 14)(48, \"h5\", 13);\n      i0.ɵɵtext(49, \"N\\u00BA PATRONES\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(50, \"td\", 14)(51, \"h5\", 15);\n      i0.ɵɵtext(52);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(53, \"tr\")(54, \"td\", 14)(55, \"h5\", 13);\n      i0.ɵɵtext(56, \"N\\u00BA TRIPULANTES\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(57, \"td\", 14)(58, \"h5\", 15);\n      i0.ɵɵtext(59);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(60, \"tr\")(61, \"td\", 14)(62, \"h5\", 13);\n      i0.ɵɵtext(63, \"N\\u00BA SOCORRISTAS\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(64, \"td\", 14)(65, \"h5\", 15);\n      i0.ɵɵtext(66);\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(67, \"div\", 16)(68, \"h5\", 9);\n      i0.ɵɵtext(69, \"VOLUNTARIOS PARTICIPANTES: \\u00A0\\u00A0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"h5\");\n      i0.ɵɵtext(71);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(72, \"div\", 17)(73, \"a\", 18)(74, \"button\", 19);\n      i0.ɵɵtext(75, \"ABANDONAR\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(76, \"button\", 20);\n      i0.ɵɵtext(77, \"COMPLETO\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(78, \"a\", 18)(79, \"button\", 19);\n      i0.ɵɵtext(80, \"ABANDONAR\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(81, \"a\", 18)(82, \"button\", 21);\n      i0.ɵɵtext(83, \"PARTICIPAR\");\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", ctx.titulo_evento, \" \");\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" \", ctx.descripcion_evento, \" \");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.fecha_inicio, \"\\u00A0\\u00A0\\u00A0 \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.hora_inicio, \" \");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.lugar_evento, \" \");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.entidad_organizadora, \"\\u00A0\\u00A0\\u00A0 \");\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(ctx.num_embarcaciones);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.num_motos);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.num_patrones);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.num_tripulantes);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.num_socorristas);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate2(\" \", ctx.contador_voluntarios, \"\\u00A0 / \\u00A0\", ctx.maximo_voluntarios, \" \");\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["DetalleEventoVoluntarioComponent","constructor","service","route","sessionStorage","getItem","ngOnInit","idEvento","snapshot","paramMap","get","getDetalle","id","subscribe","response","hora_inicio","Date","HORA_INICIO","horas","getHours","minutos","getMinutes","segundos","getSeconds","toString","padStart","fecha_inicio","FECHA_INICIO","dia","getDate","mes","getMonth","any","getFullYear","titulo_evento","NOMBRE","lugar_evento","UBICACION","descripcion_evento","OBSERVACIONES","contador_voluntarios","VOLUNTARIOS","maximo_voluntarios","MAX_VOLUNTARIOS","entidad_organizadora","ENTIDAD_ORGANIZADORA","unirse","unido","isDisabled","desunirse","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["D:\\VDLM\\src\\app\\views\\detalle-evento-voluntario\\detalle-evento-voluntario.component.ts","D:\\VDLM\\src\\app\\views\\detalle-evento-voluntario\\detalle-evento-voluntario.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ActividadesService } from 'src/app/services/actividades.service';\r\nimport { Actividades } from 'src/app/models/actividades';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-detalle-evento-voluntario',\r\n  templateUrl: './detalle-evento-voluntario.component.html',\r\n  styleUrls: ['./detalle-evento-voluntario.component.css']\r\n})\r\nexport class DetalleEventoVoluntarioComponent {\r\n  public fecha_inicio: any = \"\";\r\n  public hora_inicio: any = \"\";\r\n  public maximo_voluntarios: any = 0;\r\n  public contador_voluntarios: any = 0;\r\n  public lugar_evento: any = \"\";\r\n  public descripcion_evento: any = \"\";\r\n  public titulo_evento: any = \"\";\r\n  public num_embarcaciones: number = 0;\r\n  public num_motos: number = 0;\r\n  public num_tripulantes: number = 0;\r\n  public num_patrones: number = 0;\r\n  public num_socorristas: number = 0;\r\n  public user_joined: boolean = false;\r\n  public isDisabled: boolean = false;\r\n  public entidad_organizadora: string = \"\";\r\n  public unido: boolean = false;\r\n  public idEvento: any = 0;\r\n  public id: any = sessionStorage.getItem('id');\r\n  public resp: Actividades[] = [];\r\n\r\n  public constructor(public service: ActividadesService, private route: ActivatedRoute) {  }\r\n\r\n  ngOnInit() {\r\n    this.idEvento = this.route.snapshot.paramMap.get('id');\r\n    this.service.getDetalle(this.idEvento, this.id).subscribe(response => {\r\n      let hora_inicio = new Date(response.HORA_INICIO);\r\n      let horas = hora_inicio.getHours();\r\n      let minutos = hora_inicio.getMinutes();\r\n      let segundos = hora_inicio.getSeconds();\r\n      this.hora_inicio = `${horas.toString().padStart(2, '0')}:${minutos.toString().padStart(2, '0')}:${segundos.toString().padStart(2, '0')}`;\r\n      let fecha_inicio = new Date(response.FECHA_INICIO);\r\n      let dia = fecha_inicio.getDate();\r\n      let mes = fecha_inicio.getMonth() + 1;\r\n      let any = fecha_inicio.getFullYear();\r\n      this.fecha_inicio = `${dia.toString().padStart(2, '0')}/${mes.toString().padStart(2, '0')}/${any}`;\r\n      this.titulo_evento = response.NOMBRE;\r\n      this.lugar_evento = response.UBICACION;\r\n      this.descripcion_evento = response.OBSERVACIONES;\r\n      this.contador_voluntarios = response.VOLUNTARIOS;\r\n      this.maximo_voluntarios = response.MAX_VOLUNTARIOS;\r\n      this.entidad_organizadora = response.ENTIDAD_ORGANIZADORA;\r\n      this.lugar_evento = response.UBICACION;\r\n\r\n        /*localStorage.setItem('entidad_organizadora', this.resp[0].ENTIDAD_ORGANIZADORA),\r\n        localStorage.setItem('num_embarcaciones', this.resp[0].NUM_EMBARCACIONES.toString()),\r\n        localStorage.setItem('num_motos', this.resp[0].NUM_MOTOS.toString()),\r\n        localStorage.setItem('num_patrones', this.resp[0].NUM_PATRONES.toString()),\r\n        localStorage.setItem('num_tripulantes', this.resp[0].NUM_TRIPULANTES.toString()),\r\n        localStorage.setItem('num_socorristas', this.resp[0].NUM_SOCORRISTAS.toString()),\r\n        localStorage.setItem('user_joined', this.resp[0].USER_JOINED.toString())*/\r\n\r\n    });\r\n  }\r\n\r\n  /*public show(){\r\n    this.fecha_inicio = localStorage.getItem('fecha_inicio_evento');\r\n    this.hora_inicio = localStorage.getItem('hora_inicio_evento');\r\n    let maxVoluntarios = localStorage.getItem('max_voluntarios_evento');\r\n    this.maximo_voluntarios = maxVoluntarios !== null ? parseInt(maxVoluntarios) : 0;\r\n    let count = localStorage.getItem('voluntarios_evento'); \r\n    this.contador_voluntarios = count !== null ? parseInt(count) : 0;\r\n    this.lugar_evento = localStorage.getItem('lugar_evento');\r\n    this.descripcion_evento = localStorage.getItem('descripcion_evento');\r\n    this.titulo_evento = localStorage.getItem('nombre_evento');\r\n    let embarcaciones = localStorage.getItem('num_embarcaciones');\r\n    this.num_embarcaciones = embarcaciones !== null ? parseInt(embarcaciones) : 0;\r\n    let motos = localStorage.getItem('num_motos');\r\n    this.num_motos = motos !== null ? parseInt(motos) : 0;\r\n    let tripulantes = localStorage.getItem('num_tripulantes');\r\n    this.num_tripulantes = tripulantes !== null ? parseInt(tripulantes) : 0;\r\n    let patrones = localStorage.getItem('num_patrones');\r\n    this.num_patrones = patrones !== null ? parseInt(patrones) : 0;\r\n    let socorristas = localStorage.getItem('num_socorristas');\r\n    this.num_socorristas = socorristas !== null ? parseInt(socorristas) : 0;\r\n    let joined = localStorage.getItem('user_joined');\r\n    (joined === 'true') ? this.user_joined = true : this.user_joined = false;\r\n    if(this.contador_voluntarios >= this.maximo_voluntarios){\r\n      this.isDisabled = true;\r\n    }\r\n  }*/\r\n\r\n  public unirse() {\r\n    this.contador_voluntarios++;\r\n    this.unido = true;\r\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\r\n      this.isDisabled = true;\r\n    }\r\n  }\r\n\r\n  public desunirse() {\r\n    this.contador_voluntarios--;\r\n    this.unido = false;\r\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\r\n      this.isDisabled = true;\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"bg-image\"\r\n    style=\"background-image: url('BACKGROUND.jpg'); background-size: cover; background-repeat: no-repeat; background-attachment: fixed;\">\r\n    <div class=\"container mb-3\">\r\n        <h3 class=\"text-center pt-4 mb-4\">{{titulo_evento}} </h3>\r\n        <div class=\"row d-flex\">\r\n            <div class=\"col-2\"></div>\r\n            <div class=\"col-8\">\r\n                <div class=\"card text-center\">\r\n                    <div id=\"cardDetail\" class=\"card-body d-flex\">\r\n                        <h5 class=\"text-center mt-4 mb-3\"> {{descripcion_evento}} </h5>\r\n                    </div>\r\n                    <div id=\"cardDetail\" class=\"card-body d-flex\">\r\n                        <h5 style=\"color:#4774b7;\">FECHA:&nbsp;</h5>\r\n                        <h5> {{ fecha_inicio }}&nbsp;&nbsp;&nbsp; </h5>\r\n                        <h5 style=\"color:#4774b7;\">HORA:&nbsp;</h5>\r\n                        <h5> {{ hora_inicio }} </h5>\r\n                    </div>\r\n                    <div id=\"cardDetail\" class=\"card-body d-flex\">\r\n                        <h5 style=\"color:#4774b7;\">UBICACIÓN:&nbsp;</h5>\r\n                        <h5> {{ lugar_evento }} </h5>\r\n                    </div>\r\n                    <div id=\"cardDetail\" class=\"card-body mb-2 d-flex\">\r\n                        <h5 style=\"color:#4774b7;\">ENTIDAD ORGANIZADORA:&nbsp;</h5>\r\n                        <h5> {{ entidad_organizadora }}&nbsp;&nbsp;&nbsp; </h5>\r\n                    </div>\r\n                    <table class=\"table table-bordered\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td class=\"col-4\">\r\n                                    <h5 class=\"mt-2\" style=\"color:#4774b7;\">Nº EMBARCACIONES</h5>\r\n                                </td>\r\n                                <td class=\"col-6\">\r\n                                    <h5 class=\"mt-2\">{{ num_embarcaciones }}</h5>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class=\"col-6\">\r\n                                    <h5 class=\"mt-2\" style=\"color:#4774b7;\">Nº MOTOS</h5>\r\n                                </td>\r\n                                <td class=\"col-6\">\r\n                                    <h5 class=\"mt-2\">{{ num_motos }}</h5>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class=\"col-6\">\r\n                                    <h5 class=\"mt-2\" style=\"color:#4774b7;\">Nº PATRONES</h5>\r\n                                </td>\r\n                                <td class=\"col-6\">\r\n                                    <h5 class=\"mt-2\">{{ num_patrones }}</h5>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class=\"col-6\">\r\n                                    <h5 class=\"mt-2\" style=\"color:#4774b7;\">Nº TRIPULANTES</h5>\r\n                                </td>\r\n                                <td class=\"col-6\">\r\n                                    <h5 class=\"mt-2\">{{ num_tripulantes }}</h5>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td class=\"col-6\">\r\n                                    <h5 class=\"mt-2\" style=\"color:#4774b7;\">Nº SOCORRISTAS</h5>\r\n                                </td>\r\n                                <td class=\"col-6\">\r\n                                    <h5 class=\"mt-2\">{{ num_socorristas }}</h5>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div id=\"cardDetail\" class=\"card-body\">\r\n                        <h5 style=\"color:#4774b7;\">VOLUNTARIOS PARTICIPANTES: &nbsp;&nbsp;</h5>\r\n                        <h5> {{ contador_voluntarios }}&nbsp; / &nbsp;{{ maximo_voluntarios }} </h5>\r\n                    </div>\r\n                    <div id=\"cardDetail\" class=\"card-body mb-3\">\r\n                        <!--{% if disabled == true  and participa == true %}-->\r\n                        <a href=\"\"><button id=\"buttonListActividadDont\"\r\n                                class=\"btn btn-lg btn-primary btn-block\">ABANDONAR</button></a>\r\n                        <!--{% elseif disabled == true and participa == false %}-->\r\n                        <button id=\"\" disabled>COMPLETO</button>\r\n                        <!--{% elseif disabled == false and participa == true %}-->\r\n                        <a href=\"\"><button id=\"buttonListActividadDont\"\r\n                                class=\"btn btn-lg btn-primary btn-block\">ABANDONAR</button></a>\r\n                        <!--{% elseif disabled == false and participa == false %}-->\r\n                        <a href=\"\"><button id=\"buttonListActividad\"\r\n                                class=\"btn btn-lg btn-primary btn-block\">PARTICIPAR</button></a>\r\n                        <!--{% endif %}-->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}