{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { catchError, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/data.service\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(router, authService) {\n    this.router = router;\n    this.authService = authService;\n    this.email = \"\";\n    this.password = \"\";\n    this.status = 0;\n    this.message = \"\";\n    this.inicioSesion = new EventEmitter();\n  }\n  onSubmit(log) {\n    this.authService.login(this.email, this.password).pipe(catchError(error => {\n      this.status = error.status;\n      return throwError(() => new Error(error));\n    })).subscribe(response => {\n      this.status = response.status;\n      if (this.status == 200) {\n        sessionStorage.setItem('id', response.body.ID);\n        sessionStorage.setItem('name', response.body.NOMBRE);\n        sessionStorage.setItem('apellidos', response.body.APELLIDOS);\n        this.inicioSesion.emit(log);\n        this.router.navigate(['home_voluntaris']);\n      }\n    });\n  }\n  /*   public onClick(){\r\n      this.authService.getUser(3).subscribe((response: any) => {\r\n        console.log(response);\r\n      })\r\n    } */\n  wrongCredentials() {\n    if (this.status == 401) {\n      this.message = \"Usuario o contraseña incorrectos, vuelva a intentarlo.\";\n    }\n    return this.message;\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DataService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  outputs: {\n    inicioSesion: \"inicioSesion\"\n  },\n  decls: 29,\n  vars: 2,\n  consts: [[1, \"bg-image\", 2, \"background-image\", \"url('https://images.pexels.com/photos/189349/pexels-photo-189349.jpeg')\", \"height\", \"100vh\", \"background-size\", \"cover\", \"background-repeat\", \"no-repeat\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-2\", \"text-start\", \"mb-5\"], [\"href\", \"\"], [\"src\", \"assets/images/logoVoluntaris.png\", \"width\", \"325\", \"height\", \"110\", \"alt\", \"logoVoluntaris\"], [1, \"col-md-2\", \"offset-md-8\", \"text-end\", \"mt-5\", \"mb-5\"], [\"id\", \"exit\", 1, \"fa-solid\", \"fa-right-from-bracket\", \"fa-2xl\"], [1, \"col\", \"d-flex\", \"justify-content-center\", \"align-items-center\"], [\"id\", \"cardLogin\", 1, \"card\", \"text-center\", 2, \"width\", \"35rem\"], [1, \"card-body\"], [1, \"card-title\", \"mb-4\", 2, \"color\", \"#4774b7\"], [\"action\", \"\", \"method\", \"post\", 3, \"ngSubmit\"], [1, \"form-group\", \"mb-4\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"email\", \"value\", \"\", \"placeholder\", \"Email\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"_password\", \"placeholder\", \"Password\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"login\", \"type\", \"submit\", 1, \"btn\", \"btn-lg\", \"mb-2\"], [\"id\", \"emailHelp\", 1, \"form-text\", \"text-muted\"], [\"type\", \"hidden\", \"name\", \"_target_path\", \"value\", \"/menu\"], [\"type\", \"hidden\", \"name\", \"_csrf_token\", \"value\", \"\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 2)(4, \"div\", 3)(5, \"a\", 4);\n      i0.ɵɵelement(6, \"img\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"a\", 4);\n      i0.ɵɵelement(9, \"i\", 7);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(10, \"div\", 8)(11, \"div\", 9)(12, \"div\", 10)(13, \"h3\", 11);\n      i0.ɵɵtext(14, \"Bienvenido a Voluntaris de la Mar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"form\", 12);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_15_listener() {\n        return ctx.onSubmit(true);\n      });\n      i0.ɵɵelementStart(16, \"div\", 13)(17, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 13)(19, \"input\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\")(21, \"button\", 16);\n      i0.ɵɵtext(22, \"Entrar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"small\", 17);\n      i0.ɵɵtext(24, \"\\u00A9 2023 Voluntaris de la Mar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\");\n      i0.ɵɵelement(26, \"h3\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"input\", 18)(28, \"input\", 19);\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"#exit[_ngcontent-%COMP%]{\\r\\n    color:white;\\r\\n    size:large;\\r\\n    margin-right:25px;\\r\\n}\\r\\n\\r\\n#exit[_ngcontent-%COMP%]:hover{\\r\\n    color:#4774b7;\\r\\n    size:large;\\r\\n    margin-right:25px;\\r\\n}\\r\\n\\r\\n#cardLogin[_ngcontent-%COMP%]{\\r\\n    padding: 1.5em .5em .5em;\\r\\n    border-radius: 2em;\\r\\n    text-align: center;\\r\\n    box-shadow: 0 5px 10px rgba(0,0,0,.2);\\r\\n    background-color: #fdfeff;\\r\\n}\\r\\n\\r\\n#login[_ngcontent-%COMP%]{\\r\\n    background-color:#4774b7;\\r\\n    color:white;\\r\\n}\\r\\n\\r\\n#login[_ngcontent-%COMP%]:hover{\\r\\n    background-color: #1b4077;\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdmlld3MvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxVQUFVO0lBQ1YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLFVBQVU7SUFDVixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSx3QkFBd0I7SUFDeEIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixxQ0FBcUM7SUFDckMseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksd0JBQXdCO0lBQ3hCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHlCQUF5Qjs7QUFFN0IiLCJzb3VyY2VzQ29udGVudCI6WyIjZXhpdHtcclxuICAgIGNvbG9yOndoaXRlO1xyXG4gICAgc2l6ZTpsYXJnZTtcclxuICAgIG1hcmdpbi1yaWdodDoyNXB4O1xyXG59XHJcblxyXG4jZXhpdDpob3ZlcntcclxuICAgIGNvbG9yOiM0Nzc0Yjc7XHJcbiAgICBzaXplOmxhcmdlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OjI1cHg7XHJcbn1cclxuXHJcbiNjYXJkTG9naW57XHJcbiAgICBwYWRkaW5nOiAxLjVlbSAuNWVtIC41ZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiAyZW07XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBib3gtc2hhZG93OiAwIDVweCAxMHB4IHJnYmEoMCwwLDAsLjIpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZkZmVmZjtcclxufVxyXG5cclxuI2xvZ2lue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjojNDc3NGI3O1xyXG4gICAgY29sb3I6d2hpdGU7XHJcbn1cclxuXHJcbiNsb2dpbjpob3ZlcntcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxYjQwNzc7XHJcblxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAA4BA,YAAY,QAAe,eAAe;AAGtE,SAASC,UAAU,EAAEC,UAAU,QAAQ,MAAM;;;;;AAS7C,OAAM,MAAOC,cAAc;EAOzBC,YAAmBC,MAAc,EAAUC,WAAwB;IAAhD,WAAM,GAAND,MAAM;IAAkB,gBAAW,GAAXC,WAAW;IAN/C,UAAK,GAAW,EAAE;IAClB,aAAQ,GAAW,EAAE;IACrB,WAAM,GAAW,CAAC;IAClB,YAAO,GAAW,EAAE;IACjB,iBAAY,GAAG,IAAIN,YAAY,EAAW;EAEmB;EAEhEO,QAAQ,CAACC,GAAY;IAC1B,IAAI,CAACF,WAAW,CAACG,KAAK,CAAC,IAAI,CAACC,KAAK,EAAE,IAAI,CAACC,QAAQ,CAAC,CAACC,IAAI,CACpDX,UAAU,CAAEY,KAAK,IAAI;MACnB,IAAI,CAACC,MAAM,GAAGD,KAAK,CAACC,MAAM;MAC1B,OAAOZ,UAAU,CAAC,MAAM,IAAIa,KAAK,CAACF,KAAK,CAAC,CAAC;IAC3C,CAAC,CAAC,CACH,CAACG,SAAS,CAAEC,QAAa,IAAI;MAC5B,IAAI,CAACH,MAAM,GAAGG,QAAQ,CAACH,MAAM;MAC7B,IAAI,IAAI,CAACA,MAAM,IAAI,GAAG,EAAE;QAEtBI,cAAc,CAACC,OAAO,CAAC,IAAI,EAAEF,QAAQ,CAACG,IAAI,CAACC,EAAE,CAAC;QAE9CH,cAAc,CAACC,OAAO,CAAC,MAAM,EAAEF,QAAQ,CAACG,IAAI,CAACE,MAAM,CAAC;QAEpDJ,cAAc,CAACC,OAAO,CAAC,WAAW,EAAEF,QAAQ,CAACG,IAAI,CAACG,SAAS,CAAC;QAC5D,IAAI,CAACC,YAAY,CAACC,IAAI,CAACjB,GAAG,CAAC;QAC5B,IAAI,CAACH,MAAM,CAACqB,QAAQ,CAAC,CAAC,iBAAiB,CAAC,CAAC;;IAE5C,CAAC,CAAC;EACJ;EAEF;;;;;EAMSC,gBAAgB;IACrB,IAAI,IAAI,CAACb,MAAM,IAAI,GAAG,EAAE;MACtB,IAAI,CAACc,OAAO,GAAG,wDAAwD;;IACvE,OAAO,IAAI,CAACA,OAAO;EACvB;;AAxCWzB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA0B;EAAAC;IAAAN;EAAA;EAAAO;EAAAC;EAAAC;EAAAC;IAAA;MCZ3BC,8BAC4K;MAK7IA,yBACkB;MAAAA,iBAAI;MAErCA,8BAAqD;MACtCA,uBAA+D;MAAAA,iBAAI;MAI1FA,+BAAkE;MAGJA,kDAAiC;MAAAA,iBAAK;MACxFA,iCAA0D;MAApDA;QAAA,OAAYC,aAAS,IAAI,CAAC;MAAA,EAAC;MAC7BD,gCAA6B;MAClBA;QAAA;MAAA,EAAmB;MAA1BA,iBAC8C;MAElDA,gCAA6B;MAClBA;QAAA;MAAA,EAAsB;MAA7BA,iBAC0D;MAE9DA,4BAAK;MACwDA,uBAAM;MAAAA,iBAAS;MAE5EA,kCAAmD;MAAAA,iDAA2B;MAAAA,iBAAQ;MAEtFA,4BAAK;MACDA,0BAAuD;MAC3DA,iBAAM;MAENA,6BAAuD;MAE3DA,iBAAO;;;MAlBQA,gBAAmB;MAAnBA,mCAAmB;MAInBA,eAAsB;MAAtBA,sCAAsB","names":["EventEmitter","catchError","throwError","LoginComponent","constructor","router","authService","onSubmit","log","login","email","password","pipe","error","status","Error","subscribe","response","sessionStorage","setItem","body","ID","NOMBRE","APELLIDOS","inicioSesion","emit","navigate","wrongCredentials","message","selectors","outputs","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\VDLM\\src\\app\\views\\login\\login.component.ts","D:\\VDLM\\src\\app\\views\\login\\login.component.html"],"sourcesContent":["import { Component, Output, EventEmitter, Input } from '@angular/core';\nimport { DataService } from 'src/app/services/data.service';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { catchError, throwError } from 'rxjs';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  public email: string = \"\";\n  public password: string = \"\";\n  public status: number = 0;\n  public message: string = \"\";\n  @Output() inicioSesion = new EventEmitter<boolean>();\n\n  constructor(public router: Router, private authService: DataService) { }\n\n  public onSubmit(log: boolean) {\n    this.authService.login(this.email, this.password).pipe(\n      catchError((error) => {\n        this.status = error.status;\n        return throwError(() => new Error(error));\n      })\n    ).subscribe((response: any) => {\n      this.status = response.status;\n      if (this.status == 200) {\n\n        sessionStorage.setItem('id', response.body.ID);\n        \n        sessionStorage.setItem('name', response.body.NOMBRE);\n        \n        sessionStorage.setItem('apellidos', response.body.APELLIDOS);\n        this.inicioSesion.emit(log);\n       this.router.navigate(['home_voluntaris']);\n      }\n    })\n  }\n\n/*   public onClick(){\n    this.authService.getUser(3).subscribe((response: any) => {\n      console.log(response);\n    })\n  } */\n\n  public wrongCredentials() {\n    if (this.status == 401) {\n      this.message = \"Usuario o contraseña incorrectos, vuelva a intentarlo.\"\n    } return this.message;\n  }\n\n\n}\n","<div class=\"bg-image\"\n    style=\"background-image: url('https://images.pexels.com/photos/189349/pexels-photo-189349.jpeg'); height: 100vh; background-size: cover; background-repeat: no-repeat;\">\n    <div class=\"container-fluid\">\n        <div class=\"row\">\n            <div class=\"row\">\n                <div class=\"col-md-2 text-start mb-5\">\n                    <a href=\"\"><img src=\"assets/images/logoVoluntaris.png\" width=\"325\" height=\"110\"\n                            alt=\"logoVoluntaris\"></a>\n                </div>\n                <div class=\"col-md-2 offset-md-8 text-end mt-5 mb-5\">\n                    <a href=\"\"><i id=\"exit\" class=\"fa-solid fa-right-from-bracket fa-2xl\"></i></a>\n                </div>\n            </div>\n        </div>\n        <div class=\"col d-flex justify-content-center align-items-center\">\n            <div id=\"cardLogin\" class=\"card text-center\" style=\"width: 35rem;\">\n                <div class=\"card-body\">\n                    <h3 class=\"card-title mb-4\" style=\"color:#4774b7\">Bienvenido a Voluntaris de la Mar</h3>\n                    <form (ngSubmit)=\"onSubmit(true)\" action=\"\" method=\"post\">\n                        <div class=\"form-group mb-4\">\n                            <input [(ngModel)]=\"email\" type=\"text\" class=\"form-control form-control-lg\" id=\"email\"\n                                name=\"email\" value=\"\" placeholder=\"Email\">\n                        </div>\n                        <div class=\"form-group mb-4\">\n                            <input [(ngModel)]=\"password\" type=\"password\" class=\"form-control form-control-lg\"\n                                id=\"password\" name=\"_password\" placeholder=\"Password\">\n                        </div>\n                        <div>\n                            <button id=\"login\" type=\"submit\" class=\"btn btn-lg mb-2\">Entrar</button>\n                        </div>\n                        <small id=\"emailHelp\" class=\"form-text text-muted\">© 2023 Voluntaris de la Mar</small>\n\n                        <div>\n                            <h3 class=\"card-title mb-4\" style=\"color:#4774b7\"></h3>\n                        </div>\n\n                        <input type=\"hidden\" name=\"_target_path\" value=\"/menu\">\n                        <input type=\"hidden\" name=\"_csrf_token\" value=\"\">\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}