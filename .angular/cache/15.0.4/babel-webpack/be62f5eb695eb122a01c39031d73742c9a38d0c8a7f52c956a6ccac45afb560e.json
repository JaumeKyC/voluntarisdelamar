{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/actividades.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function (a0) {\n  return {\n    \"pointer-events\": a0\n  };\n};\nfunction DetalleEventoVoluntarioComponent_button_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function DetalleEventoVoluntarioComponent_button_36_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.unirse());\n    });\n    i0.ɵɵtext(1, \"UNIRSE\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, ctx_r0.isDisabled ? \"none\" : \"auto\"))(\"disabled\", ctx_r0.isDisabled);\n  }\n}\nfunction DetalleEventoVoluntarioComponent_ng_template_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵtext(1, \"SE HA UNIDO AL EVENTO\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function DetalleEventoVoluntarioComponent_ng_template_37_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.desunirse());\n    });\n    i0.ɵɵtext(3, \"DESAPUNTARSE DEL EVENTO\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class DetalleEventoVoluntarioComponent {\n  constructor(service, route) {\n    this.service = service;\n    this.route = route;\n    this.fecha_inicio = \"\";\n    this.hora_inicio = \"\";\n    this.maximo_voluntarios = 0;\n    this.contador_voluntarios = 0;\n    this.lugar_evento = \"\";\n    this.descripcion_evento = \"\";\n    this.titulo_evento = \"\";\n    this.num_embarcaciones = 0;\n    this.num_motos = 0;\n    this.num_tripulantes = 0;\n    this.num_patrones = 0;\n    this.num_socorristas = 0;\n    this.user_joined = false;\n    this.isDisabled = false;\n    this.unido = false;\n    this.idEvento = 0;\n    this.id = sessionStorage.getItem('id');\n    this.resp = [];\n    this.idEvento = this.route.snapshot.paramMap.get('id');\n  }\n  ngOnInit() {\n    this.service.getDetalle(this.idEvento, this.id).subscribe(response => {\n      console.log(response);\n      let fecha = new Date(this.resp[0].FECHA_INICIO);\n      let hora = new Date(this.resp[0].HORA_INICIO);\n      this.titulo_evento = this.resp[0].NOMBRE;\n      this.lugar_evento = this.resp[0].UBICACION;\n      this.descripcion_evento = this.resp[0].OBSERVACIONES;\n      this.contador_voluntarios = this.resp[0].VOLUNTARIOS;\n      this.maximo_voluntarios = this.resp[0].MAX_VOLUNTARIOS;\n      this.entidad_organizadora = this.resp[0].ENTIDAD_ORGANIZADORA;\n      this.lugar_evento = this.resp[0].UBICACION;\n      localStorage.setItem('entidad_organizadora', this.resp[0].ENTIDAD_ORGANIZADORA), localStorage.setItem('num_embarcaciones', this.resp[0].NUM_EMBARCACIONES.toString()), localStorage.setItem('num_motos', this.resp[0].NUM_MOTOS.toString()), localStorage.setItem('num_patrones', this.resp[0].NUM_PATRONES.toString()), localStorage.setItem('num_tripulantes', this.resp[0].NUM_TRIPULANTES.toString()), localStorage.setItem('num_socorristas', this.resp[0].NUM_SOCORRISTAS.toString()), localStorage.setItem('user_joined', this.resp[0].USER_JOINED.toString());\n    });\n  }\n  /*public show(){\r\n    this.fecha_inicio = localStorage.getItem('fecha_inicio_evento');\r\n    this.hora_inicio = localStorage.getItem('hora_inicio_evento');\r\n    let maxVoluntarios = localStorage.getItem('max_voluntarios_evento');\r\n    this.maximo_voluntarios = maxVoluntarios !== null ? parseInt(maxVoluntarios) : 0;\r\n    let count = localStorage.getItem('voluntarios_evento');\r\n    this.contador_voluntarios = count !== null ? parseInt(count) : 0;\r\n    this.lugar_evento = localStorage.getItem('lugar_evento');\r\n    this.descripcion_evento = localStorage.getItem('descripcion_evento');\r\n    this.titulo_evento = localStorage.getItem('nombre_evento');\r\n    let embarcaciones = localStorage.getItem('num_embarcaciones');\r\n    this.num_embarcaciones = embarcaciones !== null ? parseInt(embarcaciones) : 0;\r\n    let motos = localStorage.getItem('num_motos');\r\n    this.num_motos = motos !== null ? parseInt(motos) : 0;\r\n    let tripulantes = localStorage.getItem('num_tripulantes');\r\n    this.num_tripulantes = tripulantes !== null ? parseInt(tripulantes) : 0;\r\n    let patrones = localStorage.getItem('num_patrones');\r\n    this.num_patrones = patrones !== null ? parseInt(patrones) : 0;\r\n    let socorristas = localStorage.getItem('num_socorristas');\r\n    this.num_socorristas = socorristas !== null ? parseInt(socorristas) : 0;\r\n    let joined = localStorage.getItem('user_joined');\r\n    (joined === 'true') ? this.user_joined = true : this.user_joined = false;\r\n    if(this.contador_voluntarios >= this.maximo_voluntarios){\r\n      this.isDisabled = true;\r\n    }\r\n  }*/\n  unirse() {\n    this.contador_voluntarios++;\n    this.unido = true;\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\n      this.isDisabled = true;\n    }\n  }\n  desunirse() {\n    this.contador_voluntarios--;\n    this.unido = false;\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\n      this.isDisabled = true;\n    }\n  }\n}\nDetalleEventoVoluntarioComponent.ɵfac = function DetalleEventoVoluntarioComponent_Factory(t) {\n  return new (t || DetalleEventoVoluntarioComponent)(i0.ɵɵdirectiveInject(i1.ActividadesService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nDetalleEventoVoluntarioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DetalleEventoVoluntarioComponent,\n  selectors: [[\"app-detalle-evento-voluntario\"]],\n  decls: 39,\n  vars: 9,\n  consts: [[1, \"container\"], [1, \"text-center\", \"mt-3\"], [1, \"areaEvento\"], [1, \"mt-4\", \"text-justify\"], [\"id\", \"datoResaltado\"], [1, \"row\"], [1, \"col\"], [\"id\", \"contadorVoluntarios\"], [1, \"text-center\"], [\"class\", \"btn mb-5 btn-lg\", \"id\", \"botonUnirse\", \"type\", \"button\", 3, \"ngStyle\", \"disabled\", \"click\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [\"id\", \"botonUnirse\", \"type\", \"button\", 1, \"btn\", \"mb-5\", \"btn-lg\", 3, \"ngStyle\", \"disabled\", \"click\"], [\"id\", \"botonUnirse\", \"type\", \"button\", 1, \"btn\", \"mt-3\", \"btn-lg\", 2, \"background-color\", \"green\", \"color\", \"white\"], [\"id\", \"botonUnirse\", \"type\", \"button\", 1, \"btn\", \"mt-3\", \"btn-lg\", 2, \"background-color\", \"red\", \"color\", \"white\", 3, \"click\"]],\n  template: function DetalleEventoVoluntarioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"p\", 3);\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"span\", 4);\n      i0.ɵɵtext(7, \"LUGAR\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"p\");\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 5)(11, \"div\", 6)(12, \"span\", 4);\n      i0.ɵɵtext(13, \"FECHA INICIO\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"p\");\n      i0.ɵɵtext(15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 6)(17, \"span\", 4);\n      i0.ɵɵtext(18, \"HORA INICIO\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"p\");\n      i0.ɵɵtext(20);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 5)(22, \"div\", 6)(23, \"span\", 4);\n      i0.ɵɵtext(24, \"FECHA FIN\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"p\");\n      i0.ɵɵtext(26, \"---\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 6)(28, \"p\")(29, \"span\", 4);\n      i0.ɵɵtext(30, \" HORA FIN: \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"p\");\n      i0.ɵɵtext(32, \"---\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"h5\", 7);\n      i0.ɵɵtext(34);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"p\", 8);\n      i0.ɵɵtemplate(36, DetalleEventoVoluntarioComponent_button_36_Template, 2, 4, \"button\", 9);\n      i0.ɵɵtemplate(37, DetalleEventoVoluntarioComponent_ng_template_37_Template, 4, 0, \"ng-template\", null, 10, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(38);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.num_motos);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.descripcion_evento);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.lugar_evento);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.fecha_inicio);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.hora_inicio);\n      i0.ɵɵadvance(14);\n      i0.ɵɵtextInterpolate2(\"VOLUNTARIOS: \", ctx.contador_voluntarios, \" / \", ctx.maximo_voluntarios, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.unido == false)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgIf, i3.NgStyle],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","DetalleEventoVoluntarioComponent","constructor","service","route","sessionStorage","getItem","idEvento","snapshot","paramMap","get","ngOnInit","getDetalle","id","subscribe","response","console","log","fecha","Date","resp","FECHA_INICIO","hora","HORA_INICIO","titulo_evento","NOMBRE","lugar_evento","UBICACION","descripcion_evento","OBSERVACIONES","contador_voluntarios","VOLUNTARIOS","maximo_voluntarios","MAX_VOLUNTARIOS","entidad_organizadora","ENTIDAD_ORGANIZADORA","localStorage","setItem","NUM_EMBARCACIONES","toString","NUM_MOTOS","NUM_PATRONES","NUM_TRIPULANTES","NUM_SOCORRISTAS","USER_JOINED","unirse","unido","isDisabled","desunirse","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\VDLM\\src\\app\\views\\detalle-evento-voluntario\\detalle-evento-voluntario.component.html","D:\\VDLM\\src\\app\\views\\detalle-evento-voluntario\\detalle-evento-voluntario.component.ts"],"sourcesContent":["<div class=\"container\">\r\n    <h2 class=\"text-center mt-3\">{{num_motos}}</h2>\r\n    <div class=\"areaEvento\">\r\n        <p class=\"mt-4 text-justify\">{{descripcion_evento}}</p>\r\n        <span id=\"datoResaltado\">LUGAR</span>\r\n        <p>{{lugar_evento}}</p>\r\n        <div class=\"row\">\r\n          <div class=\"col\">\r\n              <span id=\"datoResaltado\">FECHA INICIO</span>\r\n              <p>{{fecha_inicio}}</p>\r\n          </div>\r\n          <div class=\"col\">\r\n              <span id=\"datoResaltado\">HORA INICIO</span>\r\n              <p>{{hora_inicio}}</p>\r\n          </div>\r\n      </div>\r\n      <div class=\"row\">\r\n          <div class=\"col\">\r\n              <span id=\"datoResaltado\">FECHA FIN</span>\r\n              <p>---</p>\r\n          </div>\r\n          <div class=\"col\">\r\n              <p><span id=\"datoResaltado\"> HORA FIN: </span> \r\n              <p>---</p>\r\n          </div>\r\n      </div>\r\n        <h5 id=\"contadorVoluntarios\">VOLUNTARIOS: {{contador_voluntarios}} / {{maximo_voluntarios}} </h5>\r\n        <p class=\"text-center\">\r\n          <button *ngIf=\"unido==false; else elseBlock\" [ngStyle]=\"{'pointer-events': isDisabled ? 'none' : 'auto'}\" [disabled]=\"isDisabled\" (click)=\"unirse()\" class=\"btn mb-5 btn-lg\" id=\"botonUnirse\" type=\"button\">UNIRSE</button>\r\n\r\n          <ng-template #elseBlock>\r\n            <button class=\"btn mt-3 btn-lg\" id=\"botonUnirse\" style=\"background-color: green; color: white\" type=\"button\">SE HA UNIDO AL EVENTO</button>\r\n            <button (click)=\"desunirse()\" class=\"btn mt-3 btn-lg\" id=\"botonUnirse\" style=\"background-color: red; color: white\" type=\"button\">DESAPUNTARSE DEL EVENTO</button>\r\n          </ng-template>\r\n        </p>\r\n    </div>\r\n</div>\r\n  \r\n","import { Component } from '@angular/core';\r\nimport { ActividadesService } from 'src/app/services/actividades.service';\r\nimport { Actividades } from 'src/app/models/actividades';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-detalle-evento-voluntario',\r\n  templateUrl: './detalle-evento-voluntario.component.html',\r\n  styleUrls: ['./detalle-evento-voluntario.component.css']\r\n})\r\nexport class DetalleEventoVoluntarioComponent {\r\n  public fecha_inicio: any = \"\";\r\n  public hora_inicio: any = \"\";\r\n  public maximo_voluntarios: any = 0;\r\n  public contador_voluntarios: any = 0;\r\n  public lugar_evento: any = \"\";\r\n  public descripcion_evento: any = \"\";\r\n  public titulo_evento: any = \"\";\r\n  public num_embarcaciones: number = 0;\r\n  public num_motos: number = 0;\r\n  public num_tripulantes: number = 0;\r\n  public num_patrones: number = 0;\r\n  public num_socorristas: number = 0;\r\n  public user_joined: boolean = false;\r\n  public isDisabled: boolean = false;\r\n  public unido: boolean = false;\r\n  public idEvento: any = 0;\r\n  public id: any = sessionStorage.getItem('id');\r\n  public resp: Actividades[] = [];\r\n\r\n  public constructor(public service: ActividadesService, private route: ActivatedRoute) {\r\n    this.idEvento = this.route.snapshot.paramMap.get('id');\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.service.getDetalle(this.idEvento, this.id).subscribe(response => {\r\n      console.log(response);\r\n      let fecha = new Date(this.resp[0].FECHA_INICIO);\r\n      let hora = new Date(this.resp[0].HORA_INICIO);\r\n      this.titulo_evento = this.resp[0].NOMBRE;\r\n      this.lugar_evento = this.resp[0].UBICACION;\r\n      this.descripcion_evento = this.resp[0].OBSERVACIONES;\r\n      this.contador_voluntarios = this.resp[0].VOLUNTARIOS;\r\n      this.maximo_voluntarios = this.resp[0].MAX_VOLUNTARIOS;\r\n      this.entidad_organizadora = this.resp[0].ENTIDAD_ORGANIZADORA;\r\n      this.lugar_evento = this.resp[0].UBICACION;\r\n\r\n        localStorage.setItem('entidad_organizadora', this.resp[0].ENTIDAD_ORGANIZADORA),\r\n        localStorage.setItem('num_embarcaciones', this.resp[0].NUM_EMBARCACIONES.toString()),\r\n        localStorage.setItem('num_motos', this.resp[0].NUM_MOTOS.toString()),\r\n        localStorage.setItem('num_patrones', this.resp[0].NUM_PATRONES.toString()),\r\n        localStorage.setItem('num_tripulantes', this.resp[0].NUM_TRIPULANTES.toString()),\r\n        localStorage.setItem('num_socorristas', this.resp[0].NUM_SOCORRISTAS.toString()),\r\n        localStorage.setItem('user_joined', this.resp[0].USER_JOINED.toString())\r\n\r\n    });\r\n  }\r\n\r\n  /*public show(){\r\n    this.fecha_inicio = localStorage.getItem('fecha_inicio_evento');\r\n    this.hora_inicio = localStorage.getItem('hora_inicio_evento');\r\n    let maxVoluntarios = localStorage.getItem('max_voluntarios_evento');\r\n    this.maximo_voluntarios = maxVoluntarios !== null ? parseInt(maxVoluntarios) : 0;\r\n    let count = localStorage.getItem('voluntarios_evento'); \r\n    this.contador_voluntarios = count !== null ? parseInt(count) : 0;\r\n    this.lugar_evento = localStorage.getItem('lugar_evento');\r\n    this.descripcion_evento = localStorage.getItem('descripcion_evento');\r\n    this.titulo_evento = localStorage.getItem('nombre_evento');\r\n    let embarcaciones = localStorage.getItem('num_embarcaciones');\r\n    this.num_embarcaciones = embarcaciones !== null ? parseInt(embarcaciones) : 0;\r\n    let motos = localStorage.getItem('num_motos');\r\n    this.num_motos = motos !== null ? parseInt(motos) : 0;\r\n    let tripulantes = localStorage.getItem('num_tripulantes');\r\n    this.num_tripulantes = tripulantes !== null ? parseInt(tripulantes) : 0;\r\n    let patrones = localStorage.getItem('num_patrones');\r\n    this.num_patrones = patrones !== null ? parseInt(patrones) : 0;\r\n    let socorristas = localStorage.getItem('num_socorristas');\r\n    this.num_socorristas = socorristas !== null ? parseInt(socorristas) : 0;\r\n    let joined = localStorage.getItem('user_joined');\r\n    (joined === 'true') ? this.user_joined = true : this.user_joined = false;\r\n    if(this.contador_voluntarios >= this.maximo_voluntarios){\r\n      this.isDisabled = true;\r\n    }\r\n  }*/\r\n\r\n  public unirse() {\r\n    this.contador_voluntarios++;\r\n    this.unido = true;\r\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\r\n      this.isDisabled = true;\r\n    }\r\n  }\r\n\r\n  public desunirse() {\r\n    this.contador_voluntarios--;\r\n    this.unido = false;\r\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\r\n      this.isDisabled = true;\r\n    }\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}