{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/actividades.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function (a0) {\n  return {\n    \"pointer-events\": a0\n  };\n};\nfunction ListaFormacionesVoluntarioComponent_div_6_div_1_button_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ListaFormacionesVoluntarioComponent_div_6_div_1_button_29_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r7.unirse());\n    });\n    i0.ɵɵtext(1, \"UNIRSE\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, ctx_r4.isDisabled ? \"none\" : \"auto\"))(\"disabled\", ctx_r4.isDisabled);\n  }\n}\nfunction ListaFormacionesVoluntarioComponent_div_6_div_1_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵtext(1, \"SE HA UNIDO A LA FORMACI\\u00D3N\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ListaFormacionesVoluntarioComponent_div_6_div_1_ng_template_30_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r9.desunirse());\n    });\n    i0.ɵɵtext(3, \"DESAPUNTARSE DE LA FORMACI\\u00D3N\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function () {\n  return [\"/detalle_formaciones/id\"];\n};\nconst _c2 = function (a0) {\n  return {\n    id: a0\n  };\n};\nfunction ListaFormacionesVoluntarioComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 7)(2, \"div\", 8)(3, \"h4\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 11);\n    i0.ɵɵtext(8, \"LUGAR\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 12)(12, \"div\", 13)(13, \"span\", 11);\n    i0.ɵɵtext(14, \"FECHA INICIO\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 13)(18, \"span\", 11);\n    i0.ɵɵtext(19, \"HORA INICIO\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"p\");\n    i0.ɵɵtext(23, \"Voluntarios: \");\n    i0.ɵɵelementStart(24, \"span\", 11);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"div\", 14)(27, \"button\", 15);\n    i0.ɵɵtext(28, \"VER\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(29, ListaFormacionesVoluntarioComponent_div_6_div_1_button_29_Template, 2, 4, \"button\", 16);\n    i0.ɵɵtemplate(30, ListaFormacionesVoluntarioComponent_div_6_div_1_ng_template_30_Template, 4, 0, \"ng-template\", null, 17, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const _r5 = i0.ɵɵreference(31);\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r1.NOMBRE);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.OBSERVACIONES);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r1.UBICACION);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.horaFormateada, \"}\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.fechaFormateada);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", item_r1.VOLUNTARIOS, \" / \", item_r1.MAX_VOLUNTARIOS, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(11, _c1))(\"queryParams\", i0.ɵɵpureFunction1(12, _c2, item_r1.ID));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.unido == false)(\"ngIfElse\", _r5);\n  }\n}\nfunction ListaFormacionesVoluntarioComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ListaFormacionesVoluntarioComponent_div_6_div_1_Template, 32, 14, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r1.ES_FORMACION == true);\n  }\n}\nexport class ListaFormacionesVoluntarioComponent {\n  constructor(service) {\n    this.service = service;\n    this.resp = [];\n    this.maximo_voluntarios = 20;\n    this.contador_voluntarios = 15;\n    this.isDisabled = false;\n    this.unido = false;\n    this.id = sessionStorage.getItem('id');\n    this.horaFormateada = \"\";\n    this.fechaFormateada = \"\";\n  }\n  ngOnInit() {\n    this.getListadoFormaciones();\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\n      this.isDisabled = true;\n    }\n  }\n  getListadoFormaciones() {\n    this.service.getActividades(this.id).subscribe(response => {\n      this.resp = response;\n      for (let i = 0; i < response.length; i++) {\n        if (response[i].ES_FORMACION != false) {\n          this.resp = response;\n          this.contador_voluntarios = this.resp[i].VOLUNTARIOS;\n          this.maximo_voluntarios = this.resp[i].MAX_VOLUNTARIOS;\n          let hora_inicio = new Date(this.resp[0].HORA_INICIO);\n          let horas = hora_inicio.getHours();\n          let minutos = hora_inicio.getMinutes();\n          let segundos = hora_inicio.getSeconds();\n          this.horaFormateada = `${horas.toString().padStart(2, '0')}:${minutos.toString().padStart(2, '0')}:${segundos.toString().padStart(2, '0')}`;\n          let fecha_inicio = new Date(this.resp[0].FECHA_INICIO);\n          let dia = fecha_inicio.getDate();\n          let mes = fecha_inicio.getMonth() + 1;\n          let any = fecha_inicio.getFullYear();\n          this.fechaFormateada = `${dia.toString().padStart(2, '0')}/${mes.toString().padStart(2, '0')}/${any}`;\n        }\n      }\n      console.log(response);\n    });\n  }\n  unirse() {\n    this.contador_voluntarios++;\n    this.unido = true;\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\n      this.isDisabled = true;\n    }\n  }\n  desunirse() {\n    this.contador_voluntarios--;\n    this.unido = false;\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\n      this.isDisabled = true;\n    }\n  }\n}\nListaFormacionesVoluntarioComponent.ɵfac = function ListaFormacionesVoluntarioComponent_Factory(t) {\n  return new (t || ListaFormacionesVoluntarioComponent)(i0.ɵɵdirectiveInject(i1.ActividadesService));\n};\nListaFormacionesVoluntarioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListaFormacionesVoluntarioComponent,\n  selectors: [[\"app-lista-formaciones-voluntario\"]],\n  decls: 8,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"text-center\", \"mt-3\"], [1, \"row\", \"mt-4\"], [1, \"col-2\"], [1, \"col-8\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"card\", \"mb-5\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [\"id\", \"datoResaltado\"], [1, \"row\"], [1, \"col\"], [1, \"d-grid\", \"gap-2\", \"d-md-block\"], [\"id\", \"botonesListado\", \"type\", \"button\", 1, \"btn\", \"mt-1\", \"btn-md\", 2, \"background-color\", \"lightblue\", 3, \"routerLink\", \"queryParams\"], [\"class\", \"btn mt-1 btn-md\", \"id\", \"botonesListado\", \"style\", \"background-color: #0066ff; color: white\", \"type\", \"button\", 3, \"ngStyle\", \"disabled\", \"click\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [\"id\", \"botonesListado\", \"type\", \"button\", 1, \"btn\", \"mt-1\", \"btn-md\", 2, \"background-color\", \"#0066ff\", \"color\", \"white\", 3, \"ngStyle\", \"disabled\", \"click\"], [\"id\", \"botonesListado\", \"type\", \"button\", 1, \"btn\", \"mt-1\", \"btn-md\", 2, \"background-color\", \"green\", \"color\", \"white\"], [\"id\", \"botonesListado\", \"type\", \"button\", 1, \"btn\", \"mt-1\", \"btn-md\", 2, \"background-color\", \"red\", \"color\", \"white\", 3, \"click\"]],\n  template: function ListaFormacionesVoluntarioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"FORMACIONES\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵelement(4, \"div\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵtemplate(6, ListaFormacionesVoluntarioComponent_div_6_Template, 2, 1, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"div\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.resp);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i2.NgStyle, i3.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ListaFormacionesVoluntarioComponent","constructor","service","sessionStorage","getItem","ngOnInit","getListadoFormaciones","contador_voluntarios","maximo_voluntarios","isDisabled","getActividades","id","subscribe","response","resp","i","length","ES_FORMACION","VOLUNTARIOS","MAX_VOLUNTARIOS","hora_inicio","Date","HORA_INICIO","horas","getHours","minutos","getMinutes","segundos","getSeconds","horaFormateada","toString","padStart","fecha_inicio","FECHA_INICIO","dia","getDate","mes","getMonth","any","getFullYear","fechaFormateada","console","log","unirse","unido","desunirse","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\VDLM\\src\\app\\views\\lista-formaciones-voluntario\\lista-formaciones-voluntario.component.html","D:\\VDLM\\src\\app\\views\\lista-formaciones-voluntario\\lista-formaciones-voluntario.component.ts"],"sourcesContent":["<div class=\"container\">\r\n    <h2 class=\"text-center mt-3\">FORMACIONES</h2>\r\n    <div class=\"row mt-4\">\r\n        <div class=\"col-2\"></div>\r\n        <div class=\"col-8\">\r\n            <div *ngFor=\"let item of resp let i = index\">\r\n                <div *ngIf=\"item.ES_FORMACION == true\">\r\n            <div class=\"card mb-5\">\r\n                <div class=\"card-body\">\r\n                  <h4 class=\"card-title\">{{item.NOMBRE}}</h4>\r\n                  <p class=\"card-text\">{{item.OBSERVACIONES}}</p>\r\n                  <span id=\"datoResaltado\">LUGAR</span>\r\n                  <p>{{item.UBICACION}}</p>\r\n                  <div class=\"row\">\r\n                    <div class=\"col\">\r\n                        <span id=\"datoResaltado\">FECHA INICIO</span>\r\n                        <p>{{horaFormateada}}}</p>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                        <span id=\"datoResaltado\">HORA INICIO</span>\r\n                        <p>{{fechaFormateada}}</p>\r\n                    </div>\r\n                </div>\r\n                  <p>Voluntarios: <span id=\"datoResaltado\">{{item.VOLUNTARIOS}} / {{item.MAX_VOLUNTARIOS}}</span></p>\r\n                  <div class=\"d-grid gap-2 d-md-block\">\r\n                    <button [routerLink]=\"['/detalle_formaciones/id']\" [queryParams]=\"{ id: item.ID }\" class=\"btn mt-1 btn-md\" id=\"botonesListado\" style=\"background-color: lightblue;\" type=\"button\">VER</button>\r\n                    <button *ngIf=\"unido==false; else elseBlock\" [ngStyle]=\"{'pointer-events': isDisabled ? 'none' : 'auto'}\" [disabled]=\"isDisabled\" (click)=\"unirse()\" class=\"btn mt-1 btn-md\" id=\"botonesListado\" style=\"background-color: #0066ff; color: white\" type=\"button\">UNIRSE</button>\r\n\r\n                    <ng-template #elseBlock>\r\n                        <button class=\"btn mt-1 btn-md\" id=\"botonesListado\" style=\"background-color: green; color: white\" type=\"button\">SE HA UNIDO A LA FORMACIÓN</button>\r\n                        <button (click)=\"desunirse()\" class=\"btn mt-1 btn-md\" id=\"botonesListado\" style=\"background-color: red; color: white\" type=\"button\">DESAPUNTARSE DE LA FORMACIÓN</button>\r\n                    </ng-template>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        <div class=\"col-2\"></div>\r\n    </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { ActividadesService } from 'src/app/services/actividades.service';\r\nimport { Actividades } from 'src/app/models/actividades';\r\n@Component({\r\n  selector: 'app-lista-formaciones-voluntario',\r\n  templateUrl: './lista-formaciones-voluntario.component.html',\r\n  styleUrls: ['./lista-formaciones-voluntario.component.css']\r\n})\r\nexport class ListaFormacionesVoluntarioComponent {\r\n\r\n  public resp: Actividades[] = [];\r\n\r\n  public maximo_voluntarios: number = 20;\r\n  public contador_voluntarios: number = 15;\r\n  public isDisabled: boolean = false;\r\n  public unido: boolean = false;\r\n  public id: any = sessionStorage.getItem('id');\r\n  public horaFormateada: string = \"\";\r\n  public fechaFormateada: string = \"\";\r\n\r\n  public constructor(public service: ActividadesService) { }\r\n\r\n  ngOnInit() {\r\n    this.getListadoFormaciones();\r\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\r\n      this.isDisabled = true;\r\n    }\r\n  }\r\n\r\n  public getListadoFormaciones() {\r\n    this.service.getActividades(this.id).subscribe((response: any[]) => {\r\n      this.resp = response;\r\n      for (let i = 0; i < response.length; i++) {\r\n        if (response[i].ES_FORMACION != false) {\r\n          this.resp = response;\r\n          this.contador_voluntarios = this.resp[i].VOLUNTARIOS;\r\n          this.maximo_voluntarios = this.resp[i].MAX_VOLUNTARIOS;\r\n          let hora_inicio = new Date(this.resp[0].HORA_INICIO);\r\n          let horas = hora_inicio.getHours();\r\n          let minutos = hora_inicio.getMinutes();\r\n          let segundos = hora_inicio.getSeconds();\r\n          this.horaFormateada = `${horas.toString().padStart(2, '0')}:${minutos.toString().padStart(2, '0')}:${segundos.toString().padStart(2, '0')}`;\r\n          let fecha_inicio = new Date(this.resp[0].FECHA_INICIO);\r\n          let dia = fecha_inicio.getDate();\r\n          let mes = fecha_inicio.getMonth() + 1;\r\n          let any = fecha_inicio.getFullYear();\r\n          this.fechaFormateada = `${dia.toString().padStart(2, '0')}/${mes.toString().padStart(2, '0')}/${any}`;\r\n        }\r\n      }\r\n      console.log(response);\r\n    })\r\n  }\r\n\r\n\r\n  public unirse() {\r\n\r\n    this.contador_voluntarios++;\r\n    this.unido = true;\r\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\r\n      this.isDisabled = true;\r\n    }\r\n  }\r\n\r\n  public desunirse() {\r\n\r\n    this.contador_voluntarios--;\r\n    this.unido = false;\r\n    if (this.contador_voluntarios >= this.maximo_voluntarios) {\r\n      this.isDisabled = true;\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}